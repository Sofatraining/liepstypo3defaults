<div xmlns:flux="http://typo3.org/ns/FluidTYPO3/Flux/ViewHelpers"
    xmlns:v="http://typo3.org/ns/FluidTYPO3/Vhs/ViewHelpers" 
    xmlns:f="http://typo3.org/ns/TYPO3/Fluid/ViewHelpers">
    
    <f:layout name="Content" />

    <f:section name="Configuration">
        <flux:form id="testimonials">
            <flux:form.option.group value="content" />
            <flux:form.sheet name="TestimonialsSheetOne" label="Einstellungen">
                <flux:field.select name="spalten" label="Anzahl Spalten" default="col-xxl-3 col-xl-4 col-lg-6" items="{0:{0:'2 Spalten',1:'col-md-6'},1:{0:'3 Spalten',1:'col-xl-4 col-lg-6'},2:{0:'4 Spalten',1:'col-xxl-3 col-xl-4 col-lg-6'},3:{0:'6 Spalten',1:'col-xxl-2 col-xl-3 col-lg-4 col-md-6'}}"/>
            </flux:form.sheet>
            <flux:form.sheet name="TestimonialsSheetTwo" label="Bewertungen">
                <flux:form.section name="TestimonialsSection">
                    <flux:form.object name="Testimonial">
                        <flux:field.input name="name" maxCharacters="100" required="1" label="Name des Kunden" />
                        <flux:field.file name="bild" label="Bild des Kunden" allowed="jpg,png" maxItems="1" useFalRelation="1" />
                        <flux:field.select name="sterne" label="Sterne" default="5" items="{0:{0:'1 Stern',1:'1'},1:{0:'2 Sterne',1:'2'},2:{0:'3 Sterne',1:'3'},3:{0:'4 Sterne',1:'4'},4:{0:'5 Sterne',1:'5'}}"/>
                        <flux:field.custom name="datum" label="Datum der Bewertung" config="{type: 'input', renderType: 'inputDateTime', eval: 'date', default: '0', size: 10}" />
                        <flux:field.text name="bewertung" required="0" enableRichText="1" label="Bewertung" />
                    </flux:form.object>
                </flux:form.section>
            </flux:form.sheet> 
        </flux:form>
    </f:section>

    <f:section name="Preview">
        <table width="100%">
            <tr>
                <td>
                    <b>Kundenstimmen</b>
                </td>
            </tr>
        </table>
    </f:section>

    <f:section name="Main">
        <div class="testimonials">
            <h4 class="my-4">Kundenstimmen</h4>
            <div class="row">
                <f:for each="{TestimonialsSection}" as="TestimonialsSection" iteration="iter">
                    <div class="{spalten}">
                        <div class="testimonial border-radius shadow-sm">
                            <div class="testimonial-header">
                                <div class="testimonial-info d-flex justify-content-between">
                                    <div class="testimonial-info-container">
                                        <b>{TestimonialsSection.Testimonial.name}</b>
                                        <div class="testimonial-stars"> 
                                            <div class="testimonial-stars-container">
                                                <f:if condition="{TestimonialsSection.Testimonial.sterne} == '1'">
                                                    <div class="filled">
                                                        <svg width="1em" height="1em" fill="#fcbf03" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"></path></svg>
                                                    </div>
                                                    </f:if>
                                                    <f:if condition="{TestimonialsSection.Testimonial.sterne} == '2'">
                                                    <div class="filled">
                                                        <svg width="1em" height="1em" fill="#fcbf03" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"></path></svg>
                                                    </div>
                                                    <div class="filled">
                                                        <svg width="1em" height="1em" fill="#fcbf03" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"></path></svg>
                                                    </div>
                                                    </f:if>
                                                    <f:if condition="{TestimonialsSection.Testimonial.sterne} == '3'">
                                                    <div class="filled">
                                                        <svg width="1em" height="1em" fill="#fcbf03" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"></path></svg>
                                                    </div>
                                                    <div class="filled">
                                                        <svg width="1em" height="1em" fill="#fcbf03" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"></path></svg>
                                                    </div>
                                                    <div class="filled">
                                                        <svg width="1em" height="1em" fill="#fcbf03" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"></path></svg>
                                                    </div>
                                                    </f:if>
                                                    <f:if condition="{TestimonialsSection.Testimonial.sterne} == '4'">
                                                    <div class="filled">
                                                        <svg width="1em" height="1em" fill="#fcbf03" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"></path></svg>
                                                    </div>
                                                    <div class="filled">
                                                        <svg width="1em" height="1em" fill="#fcbf03" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"></path></svg>
                                                    </div>
                                                    <div class="filled">
                                                        <svg width="1em" height="1em" fill="#fcbf03" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"></path></svg>
                                                    </div>
                                                    <div class="filled">
                                                        <svg width="1em" height="1em" fill="#fcbf03" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"></path></svg>
                                                    </div>
                                                    </f:if>
                                                    <f:if condition="{TestimonialsSection.Testimonial.sterne} == '5'">
                                                    <div class="filled">
                                                        <svg width="1em" height="1em" fill="#fcbf03" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"></path></svg>
                                                    </div>
                                                    <div class="filled">
                                                        <svg width="1em" height="1em" fill="#fcbf03" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"></path></svg>
                                                    </div>
                                                    <div class="filled">
                                                        <svg width="1em" height="1em" fill="#fcbf03" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"></path></svg>
                                                    </div>
                                                    <div class="filled">
                                                        <svg width="1em" height="1em" fill="#fcbf03" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"></path></svg>
                                                    </div>
                                                    <div class="filled">
                                                        <svg width="1em" height="1em" fill="#fcbf03" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"></path></svg>
                                                    </div>
                                                </f:if>
                                            </div>
                                            <div class="date-container">
                                                <span class="date"><f:format.date format="d.m.Y">{TestimonialsSection.Testimonial.datum}</f:format.date></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="icon">
                                    <f:if condition="{TestimonialsSection.Testimonial.bild}">
                                        <f:then>
                                            <f:image src="{f:uri.image(src: TestimonialsSection.Testimonial.bild)}" alt="{TestimonialsSection.Testimonial.name}" title="{TestimonialsSection.Testimonial.name}" class="timage" />
                                        </f:then>
                                        <f:else>
                                            <div class="timage nopic d-flex justify-content-center align-items-center">
                                                <v:format.substring content="{TestimonialsSection.Testimonial.name}" start="0" length="1" />
                                            </div>
                                        </f:else>
                                    </f:if>
                                    </div>
                                </div>
                            </div>
                            <div class="testimonial-body">
                                <p class="description">
                                    <f:format.html>{TestimonialsSection.Testimonial.bewertung}</f:format.html>
                                </p>
                            </div>
                        </div>
                    </div>
                </f:for>
            </div>
        </div>
    </f:section>
</div>
